from time import sleep
import random


def ruletti():

    print("Tervetuloa pelaamaan venäläistä rulettia!")

    # luodaan satunnainen luku luodille
    luoti = random.randint(1, 6) 
    # luoti = 1

    # alustetaan laskuri
    laskuri = 1 
    # alustetaan voitot
    voitot = 0

    # While loopin sisällä valitaan pelataanko vai ei
    while True:    
        valinta = input(f"Valitse pelaatko vai jänistätkö: p/j ? (kierros {laskuri}) ")

        if valinta == "p":  
            while True:
                
                try:
                    summa = int(input("Valitse panostettava summa väliltä 1-10: "))
                    if summa in range(1,11): break
                   
                # Jos panostettava summa ei ole numeroita annetaan virheilmoitus ja palataan kyselyyn    
                except ValueError:
                    print("Väärä muoto, syötä vain numeroita") 
    
            # arvotaan luku pelaajalla
            arvonta = random.randint(1, 6)
         
            # Jos luoti ja luku täsmäävät pelaaja häviää ja poistutaan loopista
            if luoti == arvonta:
                print("BÄNG!, hävisit pelin")
                break

            # Muuten pelaaja voitti tämän kierroksen
            else:  
                onnittelu = "Onneksi olkoon voitit"
                print("Click")
                palkinto = 0         

                # Katsotaan monennenko kierroksen pelaaja voitti, palkintosumma määräytyy sen mukaan
                if laskuri == 2:   
                    palkinto = summa * 4                                                   
                elif laskuri == 3:
                    palkinto = summa * 6                
                elif laskuri == 4: 
                    palkinto = summa * 10       # jos kierros on 4 eli viimeinen pelaaja voittaa pelin ja poistutaan funktiosta palauttaen salasanan
                    voitot += palkinto
                    print(f"Selvisit ruletista! Kokonaisvoitot {voitot}")
                    return "makkaravoilepä", voitot
                else: 
                    palkinto = summa * 2

            voitot += palkinto  # lisää voitot kokonaisvoittoihin
            print(f"{onnittelu} {palkinto}")
            print(f"Kokonaisvoitot: {voitot}")



            # kierrosten lisääminen        
            laskuri += 1
        
        # Jos valitaan j poistutaan pelistä 
        elif valinta == "j": 
            print("Et tainnut uskaltaa...")
            break


def valinta():

    while True:
        valinta = input("Edessä siintää metsä, menetkö sinne vai siirryt rannikolle? Vastaa joko m tai r ")
        # jos valinta m eli metsä pelataan rulettia
        if valinta == "m":
            print("Menet metsään")
            sleep(3)
            print("Näet metsän laidalla heinikon...")
            sleep(2)
            print("Heinikossa näkyy jotain, muttet tiedä tarkalleen mitä..")
            print("Mutta aiot ottaa selvää..")
            sleep(3)
            tulos = ruletti()
    # jos tulee voitto saadaan salasana sekä voitot
            if tulos:
                print(f"Voitit pelin, tässä salasanasi sekä voitot: {tulos}") 
            else:
                print("Hävisit pelin")
                
     
            #jos valinta r eli rannikko mennään rannikolle ja poistutaan loopista    
        elif valinta == "r":
            print("Siirryt rannikolle")
            sana = "LOPPU"
            print(30* "*")
            print("*"+ sana.center(28, " ")+"*")
            print(30* "*")
            break
        else:
            print("Valitse joko r(rannikko) tai m(metsä)")

def main():
    valinta()


main()
